<section>
<!-- ✅ Smart Pagination for Product List (Manager module) -->
<div class="pagination-container d-flex justify-content-center mt-4" th:fragment="pagination"  xmlns:th="http://www.thymeleaf.org">
    <ul class="pagination">

        <!-- Nút Previous -->
        <li class="page-item" th:classappend="${currentPage == 1} ? 'disabled'">
            <a class="page-link text-success"
               th:href="@{/manager/products(page=${currentPage - 1},
                                            keyword=${keyword},
                                            categoryId=${categoryId},
                                            supplierId=${supplierId},
                                            sortField=${sortField},
                                            sortDir=${sortDir})}">
                &lt;
            </a>
        </li>

        <!-- Trang đầu -->
        <li class="page-item" th:if="${currentPage > 3}">
            <a class="page-link text-success"
               th:href="@{/manager/products(page=1,
                                            keyword=${keyword},
                                            categoryId=${categoryId},
                                            supplierId=${supplierId},
                                            sortField=${sortField},
                                            sortDir=${sortDir})}">
                1
            </a>
        </li>

        <!-- Dấu ... đầu -->
        <li class="page-item disabled" th:if="${currentPage > 4}">
            <span class="page-link">...</span>
        </li>

        <!-- Các trang giữa -->
        <li class="page-item"
            th:each="i : ${#numbers.sequence((currentPage > 2 ? currentPage - 1 : 1),
                                             (currentPage < totalPages - 1 ? currentPage + 1 : totalPages))}"
            th:classappend="${i == currentPage} ? 'active'">
            <a class="page-link"
               th:classappend="${i == currentPage} ? 'bg-success border-success text-white' : 'text-success'"
               th:href="@{/manager/products(page=${i},
                                            keyword=${keyword},
                                            categoryId=${categoryId},
                                            supplierId=${supplierId},
                                            sortField=${sortField},
                                            sortDir=${sortDir})}"
               th:text="${i}">
            </a>
        </li>

        <!-- Dấu ... cuối -->
        <li class="page-item disabled" th:if="${currentPage < totalPages - 3}">
            <span class="page-link">...</span>
        </li>

        <!-- Trang cuối -->
        <li class="page-item" th:if="${currentPage < totalPages - 2}">
            <a class="page-link text-success"
               th:href="@{/manager/products(page=${totalPages},
                                            keyword=${keyword},
                                            categoryId=${categoryId},
                                            supplierId=${supplierId},
                                            sortField=${sortField},
                                            sortDir=${sortDir})}"
               th:text="${totalPages}">
            </a>
        </li>

        <!-- Nút Next -->
        <li class="page-item" th:classappend="${currentPage == totalPages} ? 'disabled'">
            <a class="page-link text-success"
               th:href="@{/manager/products(page=${currentPage + 1},
                                            keyword=${keyword},
                                            categoryId=${categoryId},
                                            supplierId=${supplierId},
                                            sortField=${sortField},
                                            sortDir=${sortDir})}">
                &gt;
            </a>
        </li>

    </ul>
</div>

</section>
